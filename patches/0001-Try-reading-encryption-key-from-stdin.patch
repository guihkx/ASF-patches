From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: guihkx <guihkx@users.noreply.github.com>
Date: Sun, 24 Feb 2019 17:29:02 -0300
Subject: Try reading encryption key from stdin

This allows us to pipe our cryptKey to ASF.
---
 ArchiSteamFarm/Program.cs | 8 ++++++++
 1 file changed, 8 insertions(+)

diff --git a/ArchiSteamFarm/Program.cs b/ArchiSteamFarm/Program.cs
index e5dfb2f4..e92ec5dc 100644
--- a/ArchiSteamFarm/Program.cs
+++ b/ArchiSteamFarm/Program.cs
@@ -234,6 +234,14 @@ internal static class Program {
 			return false;
 		}
 
+		if (Console.IsInputRedirected) {
+			string? stdinCryptKey = await Console.In.ReadLineAsync().ConfigureAwait(false);
+
+			if (!string.IsNullOrEmpty(stdinCryptKey)) {
+				HandleCryptKeyArgument(stdinCryptKey!);
+			}
+		}
+
 		// Parse args
 		if (args?.Count > 0) {
 			if (!ParseArgs(args)) {
-- 
2.25.1

