From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: guihkx <guihkx@users.noreply.github.com>
Date: Sun, 24 Feb 2019 17:29:02 -0300
Subject: [PATCH 3/4] Try reading encryption key from stdin

This allows us to pipe our cryptKey to ASF.
---
 ArchiSteamFarm/Program.cs | 8 ++++++++
 1 file changed, 8 insertions(+)

diff --git a/ArchiSteamFarm/Program.cs b/ArchiSteamFarm/Program.cs
index 9b00c857..42cde8ea 100644
--- a/ArchiSteamFarm/Program.cs
+++ b/ArchiSteamFarm/Program.cs
@@ -178,6 +178,14 @@ internal static class Program {
 				}
 			}
 
+			if (Console.IsInputRedirected) {
+				string? stdinCryptKey = Console.In.ReadLine();
+
+				if (!string.IsNullOrEmpty(stdinCryptKey)) {
+					HandleCryptKeyArgument(stdinCryptKey!);
+				}
+			}
+
 			// Parse args
 			if (args != null) {
 				ParseArgs(args);
-- 
2.25.1

